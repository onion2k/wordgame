.app-shell {
  width: min(var(--app-max-width), 100%);
  margin: 0 auto;
  height: 100dvh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: var(--app-gap);
  padding: var(--app-padding);
  box-sizing: border-box;
}

.game-header {
  text-align: center;
}

.eyebrow {
  font-size: var(--font-size-eyebrow);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: var(--header-eyebrow-text);
  margin: 0 0 var(--space-2xs);
}

.game-header h1 {
  margin: 0;
  font-size: var(--font-size-title);
  color: var(--header-title-text);
}

.tagline {
  margin: var(--space-xs) 0 0;
  color: var(--header-tagline-text);
  font-size: var(--font-size-tagline);
}

.game-area {
  background: var(--app-panel-bg);
  border: var(--border-width) solid var(--app-panel-border);
  border-radius: var(--radius-lg);
  display: flex;
  flex-direction: column;
  padding: var(--game-area-padding);
  box-shadow: var(--shadow-card);
}

.board {
  position: relative;
  display: grid;
  gap: var(--board-gap);
  justify-items: center;
  width: 100%;
  aspect-ratio: 1 / 1;
}

.row {
  display: grid;
  grid-template-columns: repeat(var(--grid-size, 8), minmax(0, 1fr));
  gap: var(--row-gap);
  width: 100%;
}

.tile {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: var(--radius-sm);
  border: var(--border-width-dashed) dashed var(--tile-border);
  font-weight: 700;
  color: var(--tile-text);
  background: var(--tile-bg);
  box-shadow: var(--shadow-tile-inset);
  transition: transform 260ms ease, opacity 200ms ease;
  will-change: transform, opacity;
}

.tile.filled {
  background: var(--tile-filled-bg);
  color: var(--tile-filled-text);
  border-color: transparent;
  box-shadow: var(--shadow-tile-filled);
}

.tile.active {
  background: var(--tile-selected-bg);
  color: var(--tile-selected-text);
  border-color: var(--tile-selected-border);
  box-shadow: var(--shadow-tile-active);
}

.tile.removing {
  opacity: 0;
  transform: scale(0.6);
}

.tile.new {
  animation: pop-in 220ms ease;
}

@keyframes pop-in {
  0% {
    transform: translateY(-12%) scale(0.9);
    opacity: 0;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.selection-line {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.selection-line polyline {
  fill: none;
  stroke: var(--selection-line-color);
  stroke-width: var(--selection-line-width);
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: var(--shadow-accent-glow);
}

.controls {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--control-min-width), 1fr));
  gap: var(--controls-gap);
  margin-top: var(--section-gap);
}

.selected-word {
  display: flex;
  align-items: baseline;
  justify-content: space-around;
  gap: var(--section-gap);
  margin-top: var(--section-gap);
  padding: var(--space-xl) var(--space-3xl);
  border-radius: var(--radius-sm);
  background: var(--selected-word-bg);
  border: var(--border-width) solid var(--selected-word-border);
}

.selected-word__value {
  font-size: var(--font-size-selected);
  font-weight: 700;
  color: var(--selected-word-text);
  letter-spacing: var(--tracking-wide);
}

.found-words {
  margin-top: var(--section-gap);
  padding: var(--space-2xl) var(--space-4xl);
  border-radius: var(--radius-md);
  background: var(--found-words-bg);
  border: var(--border-width) solid var(--found-words-border);
  display: grid;
  gap: var(--controls-gap);
}

.found-words__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 700;
  color: var(--found-words-header-text);
  text-transform: uppercase;
  letter-spacing: var(--tracking-medium);
  font-size: var(--font-size-found-header);
}

.found-words__count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: var(--count-min-width);
  padding: var(--pill-padding-y) var(--pill-padding-x);
  border-radius: var(--radius-pill);
  background: var(--found-words-count-bg);
  color: var(--found-words-count-text);
}

.found-words__score-total {
  font-weight: 700;
  color: var(--found-words-score-text);
}

.found-words__empty {
  margin: 0;
  color: var(--found-words-empty-text);
  font-size: var(--font-size-found-empty);
}

.found-words__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: var(--list-gap);
}

.found-words__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-sm) var(--space-lg);
  border-radius: var(--radius-xs);
  background: var(--found-words-item-bg);
  color: var(--found-words-item-text);
  font-weight: 600;
}

.found-words__word {
  letter-spacing: var(--tracking-wide);
}

.found-words__score {
  font-variant-numeric: tabular-nums;
  color: var(--found-words-score-text);
}

.controls button {
  border: none;
  border-radius: var(--radius-sm);
  padding: var(--button-padding-y) var(--button-padding-x);
  font-weight: 700;
  background: var(--button-bg);
  color: var(--button-text);
  cursor: pointer;
  box-shadow: var(--shadow-button);
  transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
}

.controls button.primary {
  background: var(--button-primary-bg);
  color: var(--button-primary-text);
}

.controls button:hover {
  transform: translateY(var(--hover-raise));
  box-shadow: var(--shadow-button-hover);
}

.notification {
  background: var(--notification-bg);
  color: var(--notification-text);
  border-radius: var(--radius-md);
  padding: var(--space-4xl) var(--space-5xl);
  border: var(--border-width) solid var(--notification-border);
  box-shadow: var(--shadow-card-strong);
}

.notification p {
  margin: 0;
  font-weight: 600;
}
